<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> JS基础笔记(DOM) · code and eat and drink and life</title><meta name="description" content="JS基础笔记(DOM) - YL"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/blog/favicon.png"><link rel="stylesheet" href="/blog/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://lycworks.me/blog/atom.xml" title="code and eat and drink and life"></head><body><div class="wrap"><header><a href="/blog/" class="logo-link"><img src="/blog/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/blog/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/blog/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/blog/tags/" target="_self" class="nav-list-link">TAG</a></li><li class="nav-list-item"><a href="http://lycworks.me" target="_blank" class="nav-list-link">WEBSITE</a></li><li class="nav-list-item"><a href="https://github.com/ylu021" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/blog/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">JS基础笔记(DOM)</h1><div class="post-info">Feb 2, 2017</div><div class="post-content"><h1 id="变量Var"><a href="#变量Var" class="headerlink" title="变量Var"></a>变量Var</h1><h2 id="Assign初始值的重要性"><a href="#Assign初始值的重要性" class="headerlink" title="Assign初始值的重要性"></a>Assign初始值的重要性</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var a;  </div><div class="line">var b;  </div><div class="line">var c;</div><div class="line">a = a + 1;  </div><div class="line">b = b + 5;  </div><div class="line">c = c + &quot; String!&quot;;</div></pre></td></tr></table></figure>
<blockquote>
<p>result a = NaN, b=NaN, c = “undefined String!”</p>
</blockquote>
<h1 id="字符串数组"><a href="#字符串数组" class="headerlink" title="字符串数组"></a>字符串数组</h1><pre><code>var myStr = &quot;Bob&quot;;
myStr[0] = &quot;J&quot;;
</code></pre><blockquote>
<p>cannot change the value of myStr to “Job”,<br>because the contents of myStr cannot be altered.<br>Note that this does not mean that myStr cannot be changed,<br>just that the individual characters of a string literal cannot be changed. </p>
</blockquote>
<ul>
<li>methods<br>  .charAt(index) is another use<br>  .indexOf<br>  .split(delimiter,limit)<br>  .substring( 起点 ， 终点 )<br>  .substr( 起点 ，长度 )  </li>
</ul>
<h1 id="Create-global-variables"><a href="#Create-global-variables" class="headerlink" title="Create global variables"></a>Create global variables</h1><ul>
<li>outside of function - var globalvar</li>
<li>inside function - declare without var </li>
</ul>
<h1 id="break"><a href="#break" class="headerlink" title="break"></a>break</h1><p>break是退出循环，不是跳出if语句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">for(初始条件;判断条件;循环后条件值更新)  </div><div class="line">&#123;  </div><div class="line">  if(特殊情况)  </div><div class="line">  &#123;break;&#125;  </div><div class="line">  循环代码  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="event"><a href="#event" class="headerlink" title="event"></a>event</h1><p><img src="http://img.imooc.com/53e198540001b66404860353.jpg" alt="mouse event chart" title="chart">  </p>
<p>将光标移到文本框内时，即焦点在文本框内，触发onfocus 事件</p>
<ul>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">* ```window.onload=message;```这种写法是在网页加载完成后，调用message()方法。  </div><div class="line"></div><div class="line">&gt; 建议使用window.onload=函数名;这种写法，不容易出错。window.onload=函数名();有些浏览器不买单滴~~</div><div class="line"></div><div class="line"># array</div><div class="line">![chart](http://img.imooc.com/533295ab0001dead05190599.jpg &quot;chart&quot;)  </div><div class="line"></div><div class="line">* .concat()</div></pre></td></tr></table></figure>
<p>  arr.concat(array1,array2,…,arrayN)<br>  e.g.<br>  arr = [1,2,3]<br>  arr.concat(4,5);//[1,2,3,4,5]</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; 注意: 该方法不会改变现有的数组，而仅仅会返回被连接数组的一个副本。</div><div class="line"></div><div class="line">* .join() - 把数组中的所有元素放入一个字符串。元素是通过指定的分隔符进行分隔的</div></pre></td></tr></table></figure>
<p>  myarr.join(“.”)<br>  I.Love.JS</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&gt; 使用.join(&quot;&quot;)可以进行紧密连接。</div><div class="line"></div><div class="line">* .reverse()</div><div class="line"></div><div class="line">* substring() 左开右闭 开始位置不能为负数;  </div><div class="line">* slice() 左闭右开 开始位置可以为负数.</div><div class="line"></div><div class="line">* sort([function])</div><div class="line">	* 若返回值&lt;=-1，则表示 A 在排序后的序列中出现在 B 之前。  </div><div class="line">若返回值&gt;-1 &amp;&amp; &lt;1，则表示 A 和 B 具有相同的排序顺序。    </div><div class="line">若返回值&gt;=1，则表示 A 在排序后的序列中出现在 B 之后。</div></pre></td></tr></table></figure>
</li>
</ul>
<p>function sortNum(a,b) {<br>return a - b;<br>//升序，如降序，把“a - b”该成“b - a”<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">#BOM</div><div class="line">## Interval/Timeout</div><div class="line">![chartInterval](http://img.imooc.com/56976e1700014fc504090143.jpg &quot;interval&quot;)  </div><div class="line"></div><div class="line">* setInterval(function,ms)  function可以是&quot;clock()&quot; or clock  </div><div class="line">1s = 1000 ms  </div><div class="line"></div><div class="line">* clearInterval(id_of_seInterval)  计时器：每隔1000毫秒执行clock()函数，并将值返回给t</div><div class="line">`var t= setInterval(&quot;clock()&quot;,1000);`</div><div class="line"></div><div class="line">&gt; 执行clearInterval(t);停止计时</div><div class="line"></div><div class="line">* setTimeout(function,time)</div><div class="line">	* 函数体外的是启动函数，执行一次后就交给函数体内代码执行，函数体内是代码执行的循环体</div><div class="line">	* thus can be use recursively</div><div class="line">	* setTimeout仅仅是延迟执行一次，只一次，但可以通过递归调用实现与setInterval相同的效果</div><div class="line"></div><div class="line">## History (window可以省略)</div><div class="line">![history](http://img.imooc.com/53548c200001228206210123.jpg &quot;history&quot;)  </div><div class="line"></div><div class="line">* .length - num of visited urls  </div><div class="line">* .back() - previous url; = go(-1)  </div><div class="line">* .forward() - next url  </div><div class="line">* .go(..) - specific url  </div><div class="line"></div><div class="line">## Location </div><div class="line">* Properties</div><div class="line">![url](http://img.imooc.com/53605c5a0001b26909900216.jpg &quot;url&quot;)</div><div class="line">* Methods</div><div class="line">    * assign()</div><div class="line">    * reload()</div><div class="line">    * replace()</div><div class="line"></div><div class="line"># DOM</div><div class="line">## Node</div><div class="line">个体 - `document.getElementById(id)`  </div><div class="line">数组 - `document.getElementsByName(name)`, `document.getElementsByTagName(Tagname)`  </div><div class="line"></div><div class="line">* Tagname是标签的名称，如p、a、img  </div><div class="line">* 属性可能不唯一, 返回的是元素的数组       </div><div class="line">* 有length属性</div><div class="line"></div><div class="line">#### Node Attribute </div><div class="line">    getAttribute(attr)  </div><div class="line">    setAttribute(name,val)</div><div class="line">#### Node properties</div><div class="line">        nodeName, nodeType, nodeValue  </div><div class="line">&gt; 1. 元素节点的 nodeValue 是 undefined 或 null  </div><div class="line">&gt; 2. 文本节点的 nodeValue 是文本自身</div><div class="line">&gt; 3. 属性节点的 nodeValue 是属性的值</div><div class="line"></div><div class="line">## Node&apos;s Tree Structure</div><div class="line">![dom](http://img.imooc.com/53f17a6400017d2905230219.jpg)  </div><div class="line"></div><div class="line">#### 访问子结点.childNodes  </div><div class="line">访问选定元素节点下的所有子节点的列表，返回的值可以看作是一个数组，具有length属性。  </div><div class="line">注意：</div><div class="line">如果选定的节点没有子节点，则该属性返回不包含节点的 NodeList。</div><div class="line">&gt; 注意代码中的[0]，很关键！！！  </div><div class="line">&gt; 节点之间的空白符，在firefox、chrome、opera、safari浏览器是文本节点，所以IE是3，其它浏览器是7 </div><div class="line"></div><div class="line">Fix: 都写在一行 ```&lt;ul&gt;&lt;li&gt;javascript&lt;/li&gt;&lt;li&gt;jQuery&lt;/li&gt;&lt;li&gt;PHP&lt;/li&gt;&lt;/ul&gt;</div></pre></td></tr></table></figure></p>
<h4 id="node-firstChild"><a href="#node-firstChild" class="headerlink" title="node.firstChild"></a>node.firstChild</h4><p>说明：与elementNode.childNodes[0]是同样的效果。</p>
<h4 id="node-parentNode"><a href="#node-parentNode" class="headerlink" title="node.parentNode"></a>node.parentNode</h4><p>注意:父节点只能有一个,祖节点elementNode.parentNode.parentNode</p>
<h4 id="nextSibling-previousSibling"><a href="#nextSibling-previousSibling" class="headerlink" title="nextSibling/previousSibling"></a>nextSibling/previousSibling</h4><p>同一树层级中</p>
<h4 id="appendChild-newNode-insertBefore-newNode-node"><a href="#appendChild-newNode-insertBefore-newNode-node" class="headerlink" title="appendChild(newNode)/insertBefore(newNode,node)"></a>appendChild(newNode)/insertBefore(newNode,node)</h4><p>document.createElement()是在对象中创建一个对象  </p>
<h4 id="removeChild-the-removed-node"><a href="#removeChild-the-removed-node" class="headerlink" title=".removeChild(the removed node)"></a>.removeChild(the removed node)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">while(content.firstChild)&#123;</div><div class="line">      content.removeChild(content.firstChild)</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h4 id="replaceChild-newnode-oldnode"><a href="#replaceChild-newnode-oldnode" class="headerlink" title=".replaceChild (newnode,oldnode)"></a>.replaceChild (newnode,oldnode)</h4><h2 id="document-create"><a href="#document-create" class="headerlink" title="document.create"></a>document.create</h2><ul>
<li>TextNode(data) and paragraph.appendChild(textnode)</li>
<li>ELement(tagid)</li>
<li>Method<br><img src="http://img.imooc.com/538d29da000152db05360278.jpg" alt="dom"></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/blog/2017/02/02/2016-08-03-AI-note/" class="prev">上一篇</a><a href="/blog/2017/02/02/2016-05-16-JS-deep-note/" class="next">下一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'https-ylu021-github-io-blog';
var disqus_identifier = '2017/02/02/2016-05-16-JS-note/';
var disqus_title = 'JS基础笔记(DOM)';
var disqus_url = 'http://lycworks.me/blog/2017/02/02/2016-05-16-JS-note/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//https-ylu021-github-io-blog.disqus.com/count.js" async></script><div class="copyright"><p>© 2017 <a href="http://lycworks.me/blog">YL</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-71046273-3",'auto');ga('send','pageview');</script></body></html>